<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Çelik Tel Hesaplayıcı</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <div class="min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center p-4">
      <div class="bg-white rounded-xl shadow-lg p-8 max-w-md w-full">
        <div class="flex items-center gap-3 mb-6">
          <i data-lucide="calculator" class="w-8 h-8 text-blue-600"></i>
          <h1 class="text-2xl font-bold text-gray-800">Çelik Tel Hesaplayıcı</h1>
        </div>

        <div class="space-y-6">
          <div class="flex items-center gap-4">
            <label class="text-gray-700 font-medium min-w-32">Çap (mm):</label>
            <input
              type="number"
              id="diameter"
              class="flex-1 rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:ring focus:ring-blue-500"
              placeholder="Örn: 2.5"
              step="0.1"
            />
          </div>

          <div class="flex items-center gap-4">
            <label class="text-gray-700 font-medium min-w-32">Uzunluk (m):</label>
            <input
              type="number"
              id="length"
              class="flex-1 rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:ring focus:ring-blue-500"
              placeholder="Örn: 100"
              step="0.1"
            />
          </div>

          <div class="flex items-center gap-4">
            <label class="text-gray-700 font-medium min-w-32">Ağırlık (kg):</label>
            <input
              type="number"
              id="weight"
              class="flex-1 rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:ring focus:ring-blue-500"
              placeholder="Örn: 3.85"
              step="0.001"
            />
          </div>

          <div class="mt-8 p-4 bg-blue-50 rounded-lg">
            <p class="text-lg font-semibold text-blue-900">
              Herhangi iki değeri girin, üçüncü değer otomatik hesaplanacaktır.
            </p>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Lucide ikonlarını başlat
      lucide.createIcons();

      // Çelik yoğunluğu (g/cm³)
      const STEEL_DENSITY = 7.85;

      // Input elementlerini seç
      const diameterInput = document.getElementById('diameter');
      const lengthInput = document.getElementById('length');
      const weightInput = document.getElementById('weight');

      // Hesaplama fonksiyonları
      function calculateWeight(diameter, length) {
        const d = parseFloat(diameter);
        const l = parseFloat(length);
        if (isNaN(d) || isNaN(l)) return '';
        const w = (Math.PI * Math.pow(d/2, 2) * l * STEEL_DENSITY / 1000);
        return Math.round(w);
      }

      function calculateLength(diameter, weight) {
        const d = parseFloat(diameter);
        const w = parseFloat(weight);
        if (isNaN(d) || isNaN(w)) return '';
        const l = ((w * 1000) / (Math.PI * Math.pow(d/2, 2) * STEEL_DENSITY));
        return Math.round(l);
      }

      function calculateDiameter(length, weight) {
        const l = parseFloat(length);
        const w = parseFloat(weight);
        if (isNaN(l) || isNaN(w)) return '';
        const d = Math.sqrt((w * 1000) / (Math.PI * l * STEEL_DENSITY)) * 2;
        return Math.round(d);
      }

      // Input değişikliklerini dinle
      function handleInputChange(e) {
        const currentInput = e.target;
        const currentValue = currentInput.value;

        // Eğer geçerli input temizlendiyse, diğer inputları da temizle
        if (!currentValue) {
          if (currentInput !== diameterInput) diameterInput.value = '';
          if (currentInput !== lengthInput) lengthInput.value = '';
          if (currentInput !== weightInput) weightInput.value = '';
          return;
        }

        // İki dolu input bul
        const hasDiameter = diameterInput.value !== '';
        const hasLength = lengthInput.value !== '';
        const hasWeight = weightInput.value !== '';

        // Hesaplama yap
        if (currentInput === diameterInput) {
          if (hasLength) weightInput.value = calculateWeight(currentValue, lengthInput.value);
          else if (hasWeight) lengthInput.value = calculateLength(currentValue, weightInput.value);
        } else if (currentInput === lengthInput) {
          if (hasDiameter) weightInput.value = calculateWeight(diameterInput.value, currentValue);
          else if (hasWeight) diameterInput.value = calculateDiameter(currentValue, weightInput.value);
        } else if (currentInput === weightInput) {
          if (hasDiameter) lengthInput.value = calculateLength(diameterInput.value, currentValue);
          else if (hasLength) diameterInput.value = calculateDiameter(lengthInput.value, currentValue);
        }
      }

      // Event listenerları ekle
      diameterInput.addEventListener('input', handleInputChange);
      lengthInput.addEventListener('input', handleInputChange);
      weightInput.addEventListener('input', handleInputChange);
    </script>
  </body>
</html>