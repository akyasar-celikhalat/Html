<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Çelik Tel Hesaplayıcı</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h2>Çelik Tel Hesaplayıcı</h2>

        <div class="row">
            <label>Çap (mm):</label>
            <input type="number" id="diameter" placeholder="Örn: 2.5" step="0.1">
        </div>

        <div class="row">
            <label>Uzunluk (m):</label>
            <input type="number" id="length" placeholder="Örn: 100" step="0.1">
        </div>

        <div class="row">
            <label>Ağırlık (kg):</label>
            <input type="number" id="weight" placeholder="Örn: 3.85" step="0.001">
        </div>

        <div class="instruction">
            Herhangi iki değeri girin, üçüncü değer otomatik hesaplanacaktır.
        </div>

        <div class="result" id="result"></div>
    </div>

    <script>
        // Çelik yoğunluğu (g/cm³)
        const STEEL_DENSITY = 7.85;

        // Input elementlerini seç
        const diameterInput = document.getElementById('diameter');
        const lengthInput = document.getElementById('length');
        const weightInput = document.getElementById('weight');

        // Hesaplama fonksiyonları
        function calculateWeight(diameter, length) {
            const d = parseFloat(diameter);
            const l = parseFloat(length);
            if (isNaN(d) || isNaN(l)) return '';
            const w = (Math.PI * Math.pow(d / 2, 2) * l * STEEL_DENSITY / 1000);
            return Math.round(w * 100) / 100; // Virgülden sonra 2 basamak
        }

        function calculateLength(diameter, weight) {
            const d = parseFloat(diameter);
            const w = parseFloat(weight);
            if (isNaN(d) || isNaN(w)) return '';
            const l = ((w * 1000) / (Math.PI * Math.pow(d / 2, 2) * STEEL_DENSITY));
            return Math.round(l * 100) / 100; // Virgülden sonra 2 basamak
        }

        function calculateDiameter(length, weight) {
            const l = parseFloat(length);
            const w = parseFloat(weight);
            if (isNaN(l) || isNaN(w)) return '';
            const d = Math.sqrt((w * 1000) / (Math.PI * l * STEEL_DENSITY)) * 2;
            return Math.round(d * 100) / 100; // Virgülden sonra 2 basamak
        }

        // Input değişikliklerini dinle
        function handleInputChange(e) {
            const currentInput = e.target;
            const currentValue = currentInput.value;

            // Eğer geçerli input temizlendiyse, diğer inputları da temizle
            if (!currentValue) {
                if (currentInput !== diameterInput) diameterInput.value = '';
                if (currentInput !== lengthInput) lengthInput.value = '';
                if (currentInput !== weightInput) weightInput.value = '';
                return;
            }

            // İki dolu input bul
            const hasDiameter = diameterInput.value !== '';
            const hasLength = lengthInput.value !== '';
            const hasWeight = weightInput.value !== '';

            // Hesaplama yap
            if (currentInput === diameterInput) {
                if (hasLength) weightInput.value = calculateWeight(currentValue, lengthInput.value);
                else if (hasWeight) lengthInput.value = calculateLength(currentValue, weightInput.value);
            } else if (currentInput === lengthInput) {
                if (hasDiameter) weightInput.value = calculateWeight(diameterInput.value, currentValue);
                else if (hasWeight) diameterInput.value = calculateDiameter(currentValue, weightInput.value);
            } else if (currentInput === weightInput) {
                if (hasDiameter) lengthInput.value = calculateLength(diameterInput.value, currentValue);
                else if (hasLength) diameterInput.value = calculateDiameter(lengthInput.value, currentValue);
            }
        }

        // Event listenerları ekle
        diameterInput.addEventListener('input', handleInputChange);
        lengthInput.addEventListener('input', handleInputChange);
        weightInput.addEventListener('input', handleInputChange);
    </script>
</body>
</html>